<p>from: markdown-markdown_in_html_blocks+table_captions toc: true
toc-depth: 5 number-sections: true wrap: preserve standalone: true
embed-resources: false top-level-division: chapter section-divs: true
pdf-engine: lualatex pdf-engine-opt: - ‘-shell-escape’ -
‘-output-directory=.’ template: template/yuki.html filters: -
template/filter.lua metadata-files: -
pages/hello_world/hello_world.metadata.yaml resource-path: - .</p>
<h1 id="hello-world">Hello World</h1>
<h2 id="code">Code</h2>
<p>This guide assumes you have some basic knowledge of coding in Python.
If something doesn’t work, check your code carefully and compare with
the examples.</p>
<p>Once you have followed the <strong><a
href="https://4-3is4-me.github.io/beginners_install.html">Installation</a></strong>
guide, verify everything is working with this example that displays text
on screen.</p>
<div class="warnbox">
<p><strong>Make sure you’re in the correct pyxel directory and have a
virtual environment enabled.</strong></p>
<p><br/></p>
<ul>
<li>Windows - Open Powershell and enter the following to move into the
<span class="configdir">pyxel</span> directory and start the<br/>virtual
environment.</li>
</ul>
<div class="mycode">
<p><span class="title"></span></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Projects/pyxel</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">venv/Scripts/activate</span></span></code></pre></div>
</div>
<ul>
<li>Linux - Open a terminal and enter the following to move into the
<span class="configdir">pyxel</span> directory and start the<br/>virtual
environment.</li>
</ul>
<div class="mycode">
<p><span class="title"></span></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Projects/pyxel</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> venv/bin/activate</span></code></pre></div>
</div>
</div>
<div class="infobox">
<p>From here on the commands to run in the terminal, Powershell or Linux
are the same.</p>
</div>
<p>From our <span class="configdir">pyxel</span> directory, make a new
<span class="configdir">hello_world</span> directory for the project and
move into that directory.</p>
<div class="mycode">
<p><span class="title"></span></p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> hello_world</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> hello_world</span></code></pre></div>
</div>
<p>Start VSCode with <span class="commandbox">code .</span> if it’s not
already running. If it is already running, use the file browser to the
left to open the <span class="configdir">hello_world</span>
directory.</p>
<p>Create a new file by hovering over the file explorer and clicking the
new file icon <span class="configfile">+</span> or use the keyboard
shortcut <span class="verbatim">ctrl+n</span>. Name the file <span
class="configfile">hello_world.py</span> and add the following code.</p>
<div class="mycode">
<p><span class="title"><span
class="configfile">hello_world.py</span></span></p>
<pre class="pythonlinenumbersstart=1"><code># Hello World

import pyxel

pyxel.init(width=160, height=120)

def update():
    if pyxel.btnp(pyxel.KEY_Q):
        pyxel.quit()

def draw():
    pyxel.cls(pyxel.COLOR_BLACK)
    pyxel.text(x=10, y=10, s=&quot;Hello World!&quot;, col=pyxel.COLOR_WHITE, font=None)

pyxel.run(update, draw)</code></pre>
</div>
<div class="infobox">
<p>Top Tip, if the <span class="verbatim">import pyxel</span> has a
wiggly line underneath <span class="verbatim">~~~~~</span>, VSCode is
using the wrong Python Interpreter. Press <span
class="verbatim">ctrl+shift+p</span>, and select the ‘Choose Python
Interpreter’ option from the top. Then click on the option which has the
virtual environment named in it, for our example <span
class="verbatim">venv:venv</span>.</p>
</div>
<p>Save the file <span class="configfile">hello_world.py</span> using
the File menu or keyboard shortcut <span
class="verbatim">ctrl+s</span>.</p>
<h2 id="run">Run</h2>
<p>To run the app, make sure everything is saved, then either click the
<span class="inlineconsole">play icon</span> top right in VSCode or
enter the <span class="commandbox">pyxel run</span> command from the
terminal:</p>
<div class="mycode">
<p><span class="title"></span></p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pyxel</span> run hello_world</span></code></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<figure>
<img src="assets/hello_world.png" style="width:100.0%"
alt="Hello World displayed in white on a black background" />
<figcaption aria-hidden="true">Hello World displayed in white on a black
background</figcaption>
</figure>
</div><div class="column" style="width:50%;">
<p>Congratulations, if everything worked you should see this.</p>
<p>Hit <span class="verbatim">Q</span> or close the window to quit.</p>
</div>
</div>
<div class="errorbox">
<p>If the window doesn’t open to show Hello World, there may be an
error. These will display in the terminal. <strong>Read them carefully
and correct them if you can.</strong></p>
</div>
<h2 id="whats-happening">What’s happening?</h2>
<p>First, we <span class="verbatim">import</span> the Pyxel module. Then
we use the <span class="verbatim">init()</span> method to set up our
Pyxel app:</p>
<div class="mycode">
<pre class="pythonlinenumbersstart=3"><code>import pyxel

pyxel.init(width=160, height=120)</code></pre>
</div>
<p>The <span class="verbatim">init()</span> method runs just once at the
start. Here we are setting the Pyxel window to be <span
class="verbatim">160</span> pixels wide and <span
class="verbatim">120</span> pixels high.</p>
<p>Next is the <span class="verbatim">update()</span> function:</p>
<div class="mycode">
<pre class="pythonlinenumbersstart=7"><code>def update():
    if pyxel.btnp(pyxel.KEY_Q):
        pyxel.quit()</code></pre>
</div>
<p>The <span class="verbatim">update()</span> function runs before every
frame. The default frame rate is 60 frames per second, so here <span
class="verbatim">update()</span> runs 60 times a second. It handles any
inputs or changes. The <span class="verbatim">if</span> statement that
checks if the <span class="inlineconsole">Q</span> key is pressed and
quits if it is.</p>
<p>Then the <span class="verbatim">draw()</span> function:</p>
<div class="mycode">
<pre class="pythonlinenumbersstart=11"><code>def draw():
    pyxel.cls(pyxel.COLOR_BLACK)
    pyxel.text(x=10, y=10, s=&quot;Hello World!&quot;, col=pyxel.COLOR_WHITE, font=None)</code></pre>
</div>
<p><span class="verbatim">draw()</span> runs almost every frame and will
draw our stuff in the window. <span
class="verbatim">pyxel.cls(pyxel.COLOR_BLACK)</span> clears everything
and fills with black, making a fresh canvas to draw in. Then <span
class="verbatim">pyxel.text(…)</span> is drawing our “Hello World”
text.</p>
<p>Last, the run method:</p>
<div class="mycode">
<pre class="pythonlinenumbersstart=15"><code>pyxel.run(update, draw)</code></pre>
</div>
<p>This starts our app and calls the <span
class="verbatim">update()</span> and <span
class="verbatim">draw()</span> functions to run forever.</p>
<div class="columns">
<div class="column" style="width:50%;">
<figure>
<img src="assets/diag_0.png" style="width:100.0%"
alt="A flow diagram" />
<figcaption aria-hidden="true">A flow diagram</figcaption>
</figure>
</div><div class="column" style="width:50%;">
<p>A simple flow diagram of our app running.</p>
</div>
</div>
<div class="infobox">
<p>Note the documentation states that <span
class="verbatim">draw()</span> may not run every frame, but for our
purposes it’s easier to assume that it does.</p>
</div>
<h2 id="bonus">Bonus</h2>
<p>We can brighten things up a bit by changing the colour of the text
every frame.</p>
<p>Change the <span class="verbatim">draw()</span> function to the
following, then save and run again.</p>
<div class="mycode">
<p><span class="title">hello_world.py</span></p>
<pre class="pythonlinenumbersstart=11"><code>def draw():
    pyxel.cls(pyxel.COLOR_BLACK)
    text_colour = pyxel.frame_count % 16
    pyxel.text(x=10, y=10, s=&quot;Hello World!&quot;, col=text_colour, font=None)</code></pre>
</div>
<p>As the default frame rate is 60 frames per second, this demonstrates
our code clearing the screen and redrawing the text in a different
colour each time. To slow this down, add <span
class="verbatim">fps=1</span> to our <span
class="verbatim">init()</span> function, setting the frame rate to 1
frame per second. It looks blank when the text colour is black on the
black background.</p>
<div class="infobox">
<p>Frame rate is how many times the screen is drawn in a second. A lower
frame rate will actually make things move slower!</p>
</div>
<div class="mycode">
<p><span class="title">hello_world.py</span></p>
<pre class="pythonlinenumbersstart=5"><code>pyxel.init(width=160, height=120, fps=1)</code></pre>
</div>
<h2 id="key-points">Key points</h2>
<ul>
<li><span class="verbatim">init()</span> runs once at the start to set
everything up</li>
<li><span class="verbatim">update()</span> runs before every frame to
handle inputs and update changes</li>
<li><span class="verbatim">draw()</span> runs almost every frame to
display any changes</li>
</ul>
<div class="infobox">
<p><span class="verbatim">init()</span>. <span
class="verbatim">update()</span> and <span
class="verbatim">draw()</span> are the key elements of a Pyxel app. They
will be included in everything we do from here onwards.</p>
</div>
<h2 id="exercise">Exercise</h2>
<div class="exercisebox">
<p>Can you change the code to show the Hello World! text in a different
part of the window? Or change the text to something else? Have a go and
see what happens!</p>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>&lt; Previous</br> <a
href="https://4-3is4-me.github.io/beginners_install.html">Installation</a></p>
</div><div class="column" style="width:50%;">
<div style="text-align: right">
<p>Next &gt; </br> <a
href="https://4-3is4-me.github.io/pyxel_edit_image.html">Pyxel Editor
Image</a></p>
</div>
</div>
</div>
